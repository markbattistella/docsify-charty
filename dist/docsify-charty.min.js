/*
 * docsify-charty.js v2.0.2 (https://markbattistella.github.io/docsify-charty/)
 * Copyright (c) 2021 Mark Battistella (@markbattistella)
 * Licensed under MIT
 */
"use strict";function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){var a=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=a){var n,r,c=[],o=!0,l=!1;try{for(a=a.call(t);!(o=(n=a.next()).done)&&(c.push(n.value),!e||c.length!==e);o=!0);}catch(t){l=!0,r=t}finally{try{o||null==a.return||a.return()}finally{if(l)throw r}}return c}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function ownKeys(e,t){var a,n=Object.keys(e);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(e),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)),n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(a),!0).forEach(function(t){_defineProperty(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function _defineProperty(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(a="Object"===a&&t.constructor?t.constructor.name:a)||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function getChartyOptions(t){return[""!=t.theme?t.theme:"#0984E3",""!=t.mode?t.mode:"light",!0===t.debug]}var chartyOptions={theme:"",mode:"light",debug:0};function charty(t,e){var a=getChartyOptions(chartyOptions),tt=a[0],et=a[1],at=a[2],nt=["radar","area","donut","doughnut","pie","section","sectional","rings","line","plot","scatter","bubble","rating","review","bar","column","bar-stack","bar-stacked","column-stack","column-stacked"];function rt(t){var e=360*Math.PI/180;return[50+50*Math.cos(e*t),50+50*Math.sin(e*t)]}console.log(at),t.afterEach(function(t,e){var a=document.createElement("div");a.innerHTML=t,a.querySelectorAll("pre[data-lang=charty]").forEach(function(t){var e=document.createElement("figure");if(e.textContent=t.textContent,function(t){try{JSON.parse(t)}catch(t){return void console.log(t)}return 1}(e.innerHTML)){var a,n,r,p="http://www.w3.org/2000/svg",c=JSON.parse(e.innerHTML.replace(/"color":/g,'"colour":')),b=c.type&&nt.includes(c.type)?"doughnut"===c.type?"donut":"sectional"===c.type?"section":"rings"===c.type?"ring":"scatter"===c.type?"plot":"review"===c.type?"rating":c.type.endsWith("-stacked")?c.type.replace("-stacked","-stack"):c.type:null,o=c.options,l=tt&&o.theme?o.theme:tt,m=!!o.legend,s=!!o.labels,g=!!o.numbers,f=Array.isArray(c.data)?c.data:[c.data],i=(r=(n=f).map(function(t){return t.value}),"number"==typeof n[0].value?[r]:r).reduce(function(t,e){var a,n=t.pop();try{!Array.isArray(e)&&!e.length||e.some(isNaN)||(a={min:Math.min.apply(Math,_toConsumableArray(e)),max:Math.max.apply(Math,_toConsumableArray(e)),sum:_toConsumableArray(e).reduce(function(t,e){return t+e}),avg:_toConsumableArray(e).reduce(function(t,e){return t+e})/_toConsumableArray(e).length},t.push(a),a.max>n.largest&&(n.largest=a.max))}catch(t){return at?console.log(t):null}return t.push(n),t},[{largest:-1/0}]),S=(a=i[i.length-1],i.slice(0,-1).map(function(t){return _objectSpread(_objectSpread({},t),a)})),A=f.map(function(t,e){if(t.colour)return t.colour;var a=function(t,e){var a=1<arguments.length&&void 0!==e?e:1;if(3===(t=t.replace(/#/g,"")).length&&(t=t.split("").map(function(t){return t+t}).join("")),!(l=/^([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})[\da-z]{0,0}$/i.exec(t)))return null;var n,r=parseInt(l[1],16)/255,c=parseInt(l[2],16)/255,o=parseInt(l[3],16)/255,e=Math.max(r,c,o),t=Math.min(r,c,o),l=(e+t)/2;if(e==t)n=s=0;else{var i=e-t,s=.5<l?i/(2-e-t):i/(e+t);switch(e){case r:n=(c-o)/i+(c<o?6:0);break;case c:n=(o-r)/i+2;break;case o:n=(r-c)/i+4}n/=6}return s=Math.round(100*s),{h:n=Math.round(360*n),s:s,l:l=1!=a&&a<101&&0<a?Math.round(98/a):Math.round(100*l)}}(l,f.length),t=1===f.length?50:0;return"hsl( ".concat(a.h,", ").concat(a.s,"%, ").concat(a.l*e+t,"% )")});e.classList.add("docsify-charty"),e.classList.add("".concat(et)),s&&["area","plot","bubble","line","bar","column","bar-stack","column-stack"].includes(b)&&e.classList.add("axes");var u=document.createElementNS(p,"svg"),d=document.createElementNS(p,"defs"),v=document.createElementNS(p,"g"),h=document.createElement("div"),y=document.createElement("div"),N=document.createElement("fieldset"),E=document.createElement("title"),o=document.createElement("desc");switch(u.setAttributeNS("charty","viewBox","0 0 100 100"),u.setAttributeNS("charty","preserveAspectRatio","xMidYMid meet"),d.innerHTML='<filter x="-0.25" y="-0.25" width="1.5" height="1.5" id="text-bg"><feFlood flood-color="var(--charty-colour-dark)"/><feComposite in="SourceGraphic" operator="over"/></filter>',h.setAttributeNS("charty","class","container"),y.setAttributeNS("charty","class","dataset ".concat(b)),v.setAttributeNS("charty","class","data-container"),E.innerHTML=c.title,o.innerHTML=c.caption,u.appendChild(E),u.appendChild(o),g&&u.appendChild(d),u.appendChild(v),["rating"].includes(b)||y.appendChild(u),h.appendChild(y),m&&!["rating"].includes(b)&&(e.classList.add("legend"),h.appendChild(N),N.innerHTML="<legend>Legend</legend>"),b){case"radar":var x=document.createElementNS(p,"g"),C=document.createElementNS(p,"g"),M=document.createElementNS(p,"g"),L=document.createElementNS(p,"g"),T=void 0===f[0].points?0:f[0].points;x.setAttributeNS("charty","class","data-header"),C.setAttributeNS("charty","class","data-lines"),M.setAttributeNS("charty","class","data-rings"),L.setAttributeNS("charty","class","data-label");for(var k=1;k<=5;k++)M.innerHTML+='<circle cx="0" cy="0" r="'+20*k+'"/>';x.appendChild(C),x.appendChild(M),s&&x.appendChild(L),0<T.length&&T.forEach(function(t,e){var a=document.createElementNS(p,"text"),n=document.createElementNS(p,"line");a.setAttributeNS("charty","x",0),a.setAttributeNS("charty","y",105),a.setAttributeNS("charty","style","--angle: ".concat(360/T.length*e)),n.setAttributeNS("charty","x1",0),n.setAttributeNS("charty","x2",100),n.setAttributeNS("charty","y1",0),n.setAttributeNS("charty","y2",0),n.setAttributeNS("charty","style","--angle: ".concat(360/T.length*e)),a.innerHTML=t,L.appendChild(a),C.appendChild(n)}),v.appendChild(x),f.forEach(function(r,t){if(T.length!==r.value.length)return at?console.log(">>> Charty input error\n --\x3e ".concat(r.label," has ").concat(r.value.length," values but you have created ").concat(T.length," labels - not creating the data")):null;var e=document.createElementNS(p,"g"),a=document.createElementNS(p,"polygon"),c=document.createElementNS(p,"g"),o="";r.value.forEach(function(t,e){if(t<0||100<t)return at?console.log(">>> Charty input error\n --\x3e ".concat(r.label," has a value of ").concat(t," in its array. Values need to be between 0-100")):null;var a=0<=t&&t<=100?t/100:0,n=360/T.length*e*(Math.PI/180),e=100*Math.cos(n)*a,n=100*Math.sin(n)*a,a=document.createElementNS(p,"text");o+="".concat(e," ").concat(n," "),a.setAttributeNS("charty","x","".concat(e)),a.setAttributeNS("charty","y","".concat(n)),a.setAttributeNS("charty","filter","url(#text-bg)"),a.innerHTML="".concat(t,"%"),c.appendChild(a)}),e.setAttributeNS("charty","class","data-item"),a.setAttributeNS("charty","points",o),a.setAttributeNS("charty","fill",A[t]),c.setAttributeNS("charty","class","data-text"),m&&(N.innerHTML+='<label><span style="background: '.concat(A[t],';"></span>').concat(r.label,"</label>")),e.appendChild(a),g&&e.appendChild(c),v.appendChild(e)});break;case"area":var w=document.createElementNS(p,"g"),H=document.createElementNS(p,"g"),_=document.createElementNS(p,"g");f.length;w.setAttributeNS("charty","class","data-header"),H.setAttributeNS("charty","class","data-text"),_.setAttributeNS("charty","class","data-line"),y.setAttributeNS("charty","axes-vertical","Values");for(k=1;k<=10;k++){var O=10*(k-1),j=Math.round(S[0].largest-S[0].largest/10*(k-1));_.innerHTML+='<line x1="0" x2="100" y1="'.concat(O,'" y2="').concat(O,'" stroke-width="0.2" stroke-dasharray="4,4" />'),H.innerHTML+='<text x="'.concat(-5,'" y="').concat(O,'">').concat(j,"</text>")}s&&w.appendChild(H),w.appendChild(_),v.appendChild(w),f.forEach(function(t,e){var a=document.createElementNS(p,"polygon"),r=f[e].value.length-1,n=1<f.length?e:0,c=S[n].largest,n=document.createElementNS(p,"g"),o=document.createElementNS(p,"g"),l="";t.value.forEach(function(t,e){var a=100-t/c*100,n=document.createElementNS(p,"text");n.setAttributeNS("charty","x","".concat(100/r*e)),n.setAttributeNS("charty","y","".concat(a)),n.setAttributeNS("charty","filter","url(#text-bg)"),n.innerHTML=t,o.appendChild(n),l+="".concat(100/r*e," ").concat(a,", ")}),l+="100 100, 0 100",a.setAttributeNS("charty","points",l),a.setAttributeNS("charty","fill",A[e]),n.setAttributeNS("charty","class","data-item"),o.setAttributeNS("charty","class","data-text"),n.appendChild(a),g&&n.appendChild(o),v.appendChild(n),m&&(N.innerHTML+='<label><span style="background: '.concat(A[e],';"></span>').concat(t.label,"</label>"))});break;case"pie":case"donut":case"section":var I=S[0].sum,P=0;f.forEach(function(t,e){var a="section"===b?t.value:t.value/I,n=document.createElementNS(p,"g"),r=g?f[e].value?"section"===b?" (".concat((100*t.value).toFixed(2),"%)"):" (".concat(t.value.toLocaleString()," - ").concat((100*a).toFixed(2),"%)"):null:"",c=_slicedToArray(rt(P),2),o=c[0],l=c[1],i=_slicedToArray(rt(P+=a),2),c=i[0],i=i[1],a=.5<a?1:0,c=["M ".concat(o," ").concat(l),"A 50 50 0 ".concat(a," 1 ").concat(c," ").concat(i),"L 50 50"].join(" "),i=document.createElementNS(p,"path");i.setAttributeNS("charty","d",c),i.setAttributeNS("charty","fill",A[e]),n.setAttributeNS("charty","class","data-item"),n.appendChild(i),m&&(t=s?t.label:"",N.innerHTML+='<label> <span style="background:'.concat(A[e],';"></span>').concat(t," ").concat(r,"</label>")),v.appendChild(n)}),"donut"===b&&(d.innerHTML+='<mask id="donut-hole"><rect width="100" height="100" fill="white" /><circle cx="50" cy="50"/></mask>',v.setAttributeNS("charty","mask","url(#donut-hole)"));break;case"ring":var W=32/f.length;f.forEach(function(t,e){var a=document.createElementNS(p,"g"),n=document.createElementNS(p,"circle"),r=document.createElementNS(p,"circle"),c=50-(3*e+1)*W/2,o=0<=t.value&&t.value<=1&&S[0].sum<=+f.length?t.value:0<=t.value&&t.value<=100&&S[0].sum<=100*f.length?t.value/100:null;a.setAttributeNS("charty","class","data-item"),n.setAttributeNS("charty","class","ring-bg"),n.setAttributeNS("charty","cx","50"),n.setAttributeNS("charty","cy","50"),n.setAttributeNS("charty","stroke-width","".concat(W)),n.setAttributeNS("charty","r","".concat(c)),r.setAttributeNS("charty","cx","50"),r.setAttributeNS("charty","cy","50"),r.setAttributeNS("charty","stroke","".concat(A[e])),r.setAttributeNS("charty","fill","none"),r.setAttributeNS("charty","stroke-width","".concat(W)),r.setAttributeNS("charty","r","".concat(c)),r.setAttributeNS("charty","stroke-dasharray","".concat(2*Math.PI*c,"  ").concat(2*Math.PI*c)),r.setAttributeNS("charty","stroke-dashoffset","".concat(2*Math.PI*c-100*o/100*(2*Math.PI*c))),a.appendChild(n),a.appendChild(r),v.appendChild(a),m&&(t=s?t.label:"",o=g?" (".concat(100*o.toFixed(2),"%)"):"",N.innerHTML+='<label> <span style="background:'.concat(A[e],';"></span>').concat(t).concat(o,"</label>"))});break;case"plot":case"line":case"bubble":var $=document.createElementNS(p,"g"),D=document.createElementNS(p,"g"),F=document.createElementNS(p,"g");f.length;$.setAttributeNS("charty","class","data-header"),D.setAttributeNS("charty","class","data-text"),F.setAttributeNS("charty","class","data-line"),y.setAttributeNS("charty","axes-vertical","Values");for(k=1;k<=10;k++){var R=10*(k-1),V=Math.round(S[0].largest-S[0].largest/10*(k-1));F.innerHTML+='<line x1="0" x2="100" y1="'.concat(R,'" y2="').concat(R,'" stroke-width="0.2" stroke-dasharray="4,4" />'),D.innerHTML+='<text x="'.concat(-5,'" y="').concat(R,'">').concat(V,"</text>")}s&&$.appendChild(D),$.appendChild(F),v.appendChild($),f.forEach(function(t,o){var l=document.createElementNS(p,"g"),i=document.createElementNS(p,"g"),s=f[o].value.length,u=1<f.length?o:0,d=S[u].largest,e=f[o].value,h=document.createElementNS(p,"polyline"),y="";l.setAttributeNS("charty","class","data-item"),e.forEach(function(t,e){var a=document.createElementNS(p,"circle"),n=document.createElementNS(p,"text"),r=100/s*(e+1)-100/s/2,c=100-t/d*100,e="bubble"===b?1.25+5*t/S[u].sum:1.25;a.setAttributeNS("charty","r","".concat(e)),a.setAttributeNS("charty","cx","".concat(r)),a.setAttributeNS("charty","cy","".concat(c)),a.setAttributeNS("charty","fill","".concat(A[o])),"line"===b&&(y+=" ".concat(r," "),y+="".concat(c),h.setAttributeNS("charty","points","".concat(y)),h.setAttributeNS("charty","stroke-width","0.3"),h.setAttributeNS("charty","style","stroke: ".concat(A[o],";")),l.appendChild(h)),i.setAttributeNS("charty","class","data-text"),n.setAttributeNS("charty","x","".concat(r)),n.setAttributeNS("charty","y","".concat(c-6)),n.setAttributeNS("charty","filter","url(#text-bg)"),n.innerHTML=t,g&&i.appendChild(n),l.appendChild(a)}),l.appendChild(i),v.appendChild(l),m&&(N.innerHTML+='<label> <span style="background:'.concat(A[o],';"></span>').concat(t.label,"</label>"))});break;case"bar":case"column":case"bar-stack":case"column-stack":var z=!!b.startsWith("column"),B=!!b.endsWith("stack"),w=document.createElementNS(p,"g"),K=document.createElementNS(p,"g"),q=document.createElementNS(p,"g"),J=f.length,G=f.map(function(t,e,a){for(var n=[],r=0,c=0;c<t.value.length;c++)c<1?r=0:r+=a[c-1].value[e],n.push(r);return n}),U=f.slice(1).reduce(function(t,e){var a=e.value;return t.map(function(t,e){return t+a[e]})},f[0].value);B||($=z?"vertical":"horizontal",y.setAttributeNS("charty","axes-".concat(z?"horizontal":"vertical"),"Values"),y.setAttributeNS("charty","axes-".concat($),"Labels")),w.setAttributeNS("charty","class","data-header"),K.setAttributeNS("charty","class","data-label"),q.setAttributeNS("charty","class","data-line");for(k=1;k<=10;k++){var Y=z?110:0,Q=10*(k-1),X=B?100-10*(k-1):Math.round(S[0].largest-S[0].largest/10*(k-1));q.innerHTML+='<line x1="0" x2="100" y1="'.concat(Q,'" y2="').concat(Q,'" stroke-width="0.2" stroke-dasharray="4, 4" />'),K.innerHTML+='<text x="'.concat(Y-5,'" y="').concat(Q,'"> ').concat(X," </text>")}s&&w.appendChild(K),w.appendChild(q),v.appendChild(w),f.forEach(function(r,c){var t=Array.isArray(r.value)?r.value:[r.value],o=(G[c][G[c].length-1],t.length),l=100/J,i=l/o,s=i/2,u=document.createElementNS(p,"g"),d=document.createElementNS(p,"g");u.setAttributeNS("charty","class","data-item"),d.setAttributeNS("charty","class","data-text"),v.appendChild(u),t.forEach(function(t,e){return J!==o?at?console.log("Charty error:\n>>> The number of items in the value list does not match the number of titles"):null:void(B?(n=t/U[e]*100,a=G[e][c]/U[e]*100,u.innerHTML+=' <rect width="'.concat(l,'" height="').concat(n,'" fill="').concat(A[c],'" x="').concat(l*e,'" y="').concat(a,'" /> '),g&&(d.innerHTML+='<text filter="url(#text-bg)" y="'.concat(a+n/2,'" x="').concat(l/2+e*l,'">').concat(t,"</text>"))):(n=100-(a=t/S[c].largest*100),u.innerHTML+=' <rect width="'.concat(i,'" height="').concat(a,'" fill="').concat(A[c],'" x="').concat(i*c+l*e,'" y="').concat(n,'" /> '),K.innerHTML+='<text y="'.concat(105,'" x="',i*c+l*e+s,' "> ').concat(r.label," </text>"),g&&(d.innerHTML+='<text filter="url(#text-bg)" y="'.concat(100-a,'" x="').concat(i*c+l*e+s,'">').concat(t,"</text>"))));var a,n}),m&&(N.innerHTML+='<label><span style="background:'.concat(A[c],';"></span>').concat(r.label,"</label>")),u.appendChild(d)});break;case"rating":var Z=S[0].max;f.forEach(function(t,e){var a=document.createElement("div"),n=document.createElement("div"),r=document.createElement("div"),c=document.createElement("div"),o=document.createElement("div"),l=t.value/Z*100;a.setAttribute("class","data-item"),n.setAttribute("class","rating-label"),r.setAttribute("class","rating-value"),c.setAttribute("class","rating-bar-container"),o.setAttribute("class","rating-bar-colour"),n.innerHTML=t.label,r.innerHTML=t.value,o.setAttribute("style","width: ".concat(l,"%; background-color: ").concat(A[e],";")),s&&a.appendChild(n),g&&a.appendChild(r),a.appendChild(c),c.appendChild(o),y.appendChild(a)}),y.innerHTML+="<small><em>Ratings are out of a total of <strong>".concat(Z,"</strong></em></small>");break;default:return}(charty=h.outerHTML)&&(h=""!==c.title&&c.title?"<h3>".concat(c.title,"</h3>"):"",c=""!==c.caption&&c.caption?"<figcaption>".concat(c.caption,"</figcaption>"):"",c=h||c?"<header>".concat(h).concat(c,"</header>"):"",e.innerHTML="".concat(c).concat(charty),t.parentNode.replaceChild(e,t))}}),e(a.innerHTML)}),t.doneEach(function(){document.querySelectorAll(".docsify-charty").forEach(function(e,t){var n=_toConsumableArray(e.getElementsByClassName("data-item"));_toConsumableArray(e.getElementsByTagName("label")).forEach(function(t,a){t.addEventListener("mouseover",function(t){e.classList.add("hover"),n.forEach(function(t,e){a===e?t.classList.add("active"):t.classList.remove("active")})}),t.addEventListener("mouseout",function(t){e.classList.remove("hover"),n.forEach(function(t){return t.classList.remove("active")})})})})})}window.$docsify.charty=Object.assign(chartyOptions,window.$docsify.charty),window.$docsify.plugins=[].concat(charty,window.$docsify.plugins);
